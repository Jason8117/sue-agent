## 1. 프로젝트 개요

- **프로젝트 이름**: AWS Bedrock Chat Service
- **목표**  
  - AWS Bedrock를 활용하여 사용자와 자연스럽게 상호 작용할 수 있는 챗봇 서비스를 **MVP** 형태로 신속히 출시  
  - UI는 Next.js, shadcn, TailwindCSS 기반으로 구성하며, Vercel에 배포하여 빠르고 간편한 접근성을 제공  
- **주요 요구사항(MVP 범위)**  
  - **직관적이고 단순한 UI**  
  - **AWS Bedrock 인증**: 환경변수/설정파일을 통한 인증 및 호출  
  - **채팅 입력 -> 응답 표시**라는 최소 핵심 기능에 집중  
  - **DB 미사용**: 대화 이력 저장 및 조회 기능은 MVP 이후로 연기  
  - **인증(Clerk)** 기능은 **MVP 이후**로 연기  

---

## 2. 유저 플로우 (MVP)

1. **서비스 접속**  
   - 사용자는 웹 브라우저에서 Vercel로 배포된 서비스 URL로 접속한다.  

2. **채팅 화면 접근**  
   - 별도의 로그인 절차 없이 즉시 메인 채팅 화면이 표시된다.

3. **채팅 메시지 입력**  
   - 사용자는 채팅 입력창에 텍스트 메시지를 입력하고 전송 버튼을 누른다.

4. **AWS Bedrock 연동**  
   - Next.js의 API Routes를 통해 AWS Bedrock Agent에 메시지를 전달한다.  
   - 환경변수(.env)나 설정파일에서 로드된 AWS Key, Region 등을 사용하여 SDK 초기화 후 호출.

5. **응답 수신 및 출력**  
   - 서버(Next.js)에서 Bedrock의 응답을 받아 사용자의 채팅창에 출력한다.  
   - 에러 발생 시 간단한 에러 메시지를 표시한다.

> **MVP 제한 사항**  
> - 과거 대화 저장/조회는 구현하지 않음.  
> - **별도 인증 과정(Clerk 등)은 구현하지 않음.**  

---

## 3. 핵심 기능 (MVP)

1. **AWS Bedrock 연동**  
   - 환경변수를 통한 인증(Access Key, Secret Key, Region 등)  
   - Next.js API Route에서 AWS SDK 사용하여 메시지 전달/응답 수신  

2. **단순 채팅 UI**  
   - **Next.js + shadcn + TailwindCSS**로 구성  
   - shadcn/ui를 통한 깔끔하고 직관적인 UI 컴포넌트 활용  
   - 사용자 입력 박스, 응답 표시 영역으로 구성  

3. **실시간 응답 표시**  
   - 사용자 입력에 대해 Bedrock 응답을 받아 즉시 화면에 표시  
   - 필요 시 로딩 스피너(“답변 생성 중...”) 등을 표시할 수 있음  

4. **에러 처리**  
   - 네트워크 오류, 인증 오류 등 발생 시 브라우저에 간단한 알림  
   - Vercel 로그나 서버 콘솔에서 상세 로그 확인 가능  

---

## 4. 기술 스택

1. **프론트엔드 & 전체 프레임워크**  
   - **Next.js(React 기반)**: 파일 기반 라우팅 및 Serverless 함수(API Routes)로 Bedrock 호출  
   - **Tailwind CSS**: 스타일링 도구  
   - **shadcn**: React 컴포넌트 라이브러리로 UI 빌드  
   - **TypeScript** (선택적으로 추가 가능)

2. **백엔드 로직**  
   - Next.js API Routes (Node.js 환경)  
   - AWS SDK for JavaScript v3 (Bedrock 호출)

3. **배포**  
   - **Vercel**: Next.js 프로젝트 배포  
   - Vercel 환경변수 설정(.env)을 통해 비공개 AWS 인증정보 관리

4. **DB**  
   - 사용하지 않음 (대화 이력 저장X)

5. **인증**  
   - MVP에서는 제외(로그인/세션 관리 기능 불필요)  
   - 추후 Clerk 등을 연동할 계획  

---

## 5. MVP 기능 개발 이후 추가 개선 사항

1. **클라이언트 인증 (Clerk) 도입**  
   - 사용자 계정 생성, 로그인/로그아웃, 세션 관리  
   - 사용자별 접근 제어 및 대화 이력 분리 관리 등에 활용

2. **대화 이력 저장/조회**  
   - DB 도입(PostgreSQL, DynamoDB 등)  
   - 사용자별 대화 이력 관리, 과거 세션 이어서 대화 기능

3. **대화 세션 및 멀티모달 입력**  
   - 이미지/파일 업로드, 음성 입력 등 다양한 입력 방식 지원  
   - 세션별 context 관리로 복잡한 질의 응답 처리

4. **에러/성능 로깅 고도화**  
   - Sentry, Datadog, AWS CloudWatch 등으로 에러 및 성능 모니터링

5. **다국어 지원**  
   - 한국어 외 영어, 일본어, 중국어 등 글로벌 사용자 대상 확장

6. **챗봇 퍼소나/프롬프트 튜닝**  
   - 고객지원, FAQ, 특정 업무 자동화 등 용도에 맞게 프롬프트 설정

---

## 요약

- **MVP**는 **Next.js + shadcn + TailwindCSS + Vercel**을 사용하여 빠르고 직관적인 챗봇 UI를 구현하고, **AWS Bedrock**에서 제공하는 모델을 통해 사용자 입력에 응답한다.  
- **인증**(Clerk) 및 **대화 이력 저장**은 MVP 범위에서 제외되어, 초기 버전에서는 로그인 절차 없이 누구나 접속해서 실험적으로 챗봇을 테스트해볼 수 있다.  
- 추후 인증 기능과 DB 연동을 통해 사용자별 대화 이력 관리, 퍼소나 설정, 고급 기능을 단계적으로 구현할 예정이다.  